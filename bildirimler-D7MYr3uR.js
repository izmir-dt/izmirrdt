import{j as e,n as y,o as N,r as x,a as f,B as m,A as w,S as L}from"./index-BiS_08CB.js";import{S as B}from"./skeleton-CIwMLOW5.js";import{I as R}from"./input-D4NQlLM0.js";import{P as S}from"./page-header-DYGn4VLB.js";const k=N("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function g({className:r,variant:n,...s}){return e.jsx("div",{className:y(k({variant:n}),r),...s})}function M(){const[r,n]=x.useState(""),[s,u]=x.useState("active"),{data:i,isLoading:b}=f({queryKey:["/api/sheets","BİLDİRİMLER"]}),{data:l,isLoading:v}=f({queryKey:["/api/sheets","BİLDİRİMLER_ARŞİV"]}),o=s==="active"?i:l,j=s==="active"?b:v,c=x.useMemo(()=>{if(!o)return[];if(!r.trim())return o.rows;const t=r.toLowerCase();return o.rows.filter(a=>a.some(h=>String(h??"").toLowerCase().includes(t)))},[o,r]),d=o?.headers||[];return j?e.jsx("div",{className:"p-6 space-y-3",children:[1,2,3].map(t=>e.jsx(B,{className:"h-20 rounded-xl"},t))}):e.jsxs("div",{className:"p-6 space-y-4 max-w-5xl",children:[e.jsx(S,{icon:m,title:"Bildirimler",description:"BİLDİRİMLER ve BİLDİRİMLER_ARŞİV sayfasındaki kayıtlar"}),e.jsxs("div",{className:"flex gap-1 bg-muted p-1 rounded-lg w-fit",children:[e.jsxs("button",{onClick:()=>u("active"),className:`flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="active"?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(m,{className:"w-3.5 h-3.5"}),"Aktif Bildirimler",i&&e.jsx(g,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:i.rows.length})]}),e.jsxs("button",{onClick:()=>u("arsiv"),className:`flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="arsiv"?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(w,{className:"w-3.5 h-3.5"}),"Arşiv",l&&e.jsx(g,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:l.rows.length})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-xs",children:[e.jsx(L,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(R,{"data-testid":"input-search-bildirimler",placeholder:"Ara...",value:r,onChange:t=>n(t.target.value),className:"pl-9"})]}),e.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[c.length," kayıt"]})]}),d.length===0?e.jsxs("div",{className:"bg-card border border-card-border rounded-xl flex flex-col items-center justify-center py-20 text-muted-foreground gap-2",children:[e.jsx(m,{className:"w-10 h-10 opacity-20"}),e.jsx("p",{className:"text-sm",children:"Bu sayfada bildirim yok"})]}):e.jsx("div",{className:"bg-card border border-card-border rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/60 border-b border-border",children:[e.jsx("th",{className:"text-left px-5 py-3 text-xs font-semibold text-muted-foreground w-10",children:"#"}),d.map((t,a)=>e.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-muted-foreground whitespace-nowrap",children:t},a))]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:d.length+1,className:"text-center py-16 text-muted-foreground",children:e.jsx("p",{className:"text-sm",children:"Sonuç bulunamadı"})})}):c.map((t,a)=>e.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[e.jsx("td",{className:"px-5 py-3 text-xs text-muted-foreground tabular-nums",children:a+1}),d.map((h,p)=>e.jsx("td",{className:"px-4 py-3 text-foreground text-sm",children:String(t[p]??"")},p))]},a))})]})})})]})}export{M as default};
